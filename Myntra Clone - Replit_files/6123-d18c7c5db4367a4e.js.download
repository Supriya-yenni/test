"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6123],{73299:function(n,e,r){r.d(e,{C:function(){return a},Gw:function(){return u},Tg:function(){return c},so:function(){return o},ss:function(){return l},tc:function(){return i}});var t=r(55749);function o(n,e){for(var r=[],t=n.split(e),o=0;o<t.length;o++){var i=t[o].trim();""!==i&&r.push(i)}return r}function i(n){return n.replace(/^<|>$/g,"")}function u(n){return"'".concat(n.replace(/'/g,"'\\''"),"'")}function a(n){return n.replace(/^refs\/(?:heads|remotes)\//,"")}function c(n){if(-1===n.indexOf("/"))return[null,null];if(n.startsWith("refs/heads/"))return[null,null];if(n.startsWith("refs/remotes/")){var e=(0,t.Z)(n.split("/"));return[e[2],e.slice(3).join("/")]}var r=(0,t.Z)(n.split("/"));return[r[0],r.slice(1).join("/")]}function l(n){return n.replace(/^refs\/remotes\//,"")}},49760:function(n,e,r){r.d(e,{Z:function(){return E},h:function(){return o}});var t,o,i=r(57135),u=r(2272),a=r(96583),c=r(73299),l="# branch.oid ",s="# branch.head ",f="# branch.upstream ",d="# branch.ab ",h="# stash ",p=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,g=/^([RC])([0-9]+) (.+?)\t(.+)$/,v=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,m=/([RC][0-9]+ .+?)\0(.+?(?:\0|$))/g;function E(n){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)((function(n){var e,r,t,o,i,p,g,v,E,N,R,w,b,y,k,Z,D,I,A,_,O;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return e=null,r=null,t=null,o=0,i=[],[4,n("git status ".concat(["-z","--porcelain=v2","--branch","--show-stash","--untracked-files=all"].join(" ")))];case 1:if((p=a.sent()).error)return[2,p];g=p.output.replaceAll(m,"$1\t$2"),v=(0,c.so)(g,"\0"),E=!0,N=!1,R=void 0;try{for(w=v[Symbol.iterator]();!(E=(b=w.next()).done);E=!0)(y=b.value).startsWith("#")?y.startsWith(l)?"(initial)"!==(k=y.substring(l.length))&&(e=k):y.startsWith(s)?"(detached)"!==(Z=y.substring(s.length))&&(r=Z):y.startsWith(f)?"(not queried)"!==(D=y.substring(f.length))&&(t={branch:D,ahead:0,behind:0}):y.startsWith(d)?t&&(I=(0,u.Z)(y.substring(d.length).split(" ").map((function(n){return Math.abs(parseInt(n,10))})),2),A=I[0],_=I[1],t.ahead=A,t.behind=_):y.startsWith(h)&&(o=parseInt(y.substring(h.length),10)):null!==(O=C(y))&&i.push(O)}catch(T){N=!0,R=T}finally{try{E||null==w.return||w.return()}finally{if(N)throw R}}return[2,{commit:e,branch:r,upstream:t,stashes:o,changes:i,error:null}]}}))}))).apply(this,arguments)}function C(n){var e=n[0];switch(n=n.substring(2),e){case t.IGNORED:return null;case t.UNTRACKED:return{type:{index:o.UNTRACKED,worktree:o.UNTRACKED},path:n,staged:!1,unmerged:!1};case t.UNMERGED:var r=n.match(v);if(!r)return null;var i=(0,u.Z)(r,12),a=i[1],c=i[2],l=i[11],s=R(a);return{type:{index:s,worktree:R(c)},path:l,staged:s!==o.UNMODIFIED,unmerged:!0};case t.ORDINARY:case t.RENAMED_OR_COPIED:var f=n.match(p);if(!f)return null;var d=(0,u.Z)(f,10),h=d[1],m=d[2],E=d[9],N=R(h),C=R(m),b=N!==o.UNMODIFIED;if(e===t.ORDINARY)return{type:{index:N,worktree:C},path:E,staged:b,unmerged:!1};if(e===t.RENAMED_OR_COPIED){var y=E.match(g);if(!y)return null;var k=(0,u.Z)(y,5),Z=k[1],D=k[2],I=k[3],A=k[4];return{type:{index:N,worktree:C},path:I,staged:b,unmerged:!1,source:{type:w(Z),score:parseInt(D,10),path:A}}}return null;default:return null}}function R(n){switch(n){case".":default:return o.UNMODIFIED;case"M":return o.MODIFIED;case"T":return o.TYPE_CHANGED;case"A":return o.ADDED;case"D":return o.DELETED;case"R":return o.RENAMED;case"C":return o.COPIED;case"U":return o.UNMERGED}}function w(n){switch(n){case"R":default:return o.RENAMED;case"C":return o.COPIED}}!function(n){n.ORDINARY="1",n.RENAMED_OR_COPIED="2",n.UNMERGED="u",n.UNTRACKED="?",n.IGNORED="!"}(t||(t={})),function(n){n.UNTRACKED="UNTRACKED",n.UNMODIFIED="UNMODIFIED",n.MODIFIED="MODIFIED",n.TYPE_CHANGED="TYPE_CHANGED",n.ADDED="ADDED",n.DELETED="DELETED",n.RENAMED="RENAMED",n.COPIED="COPIED",n.UNMERGED="UNMERGED"}(o||(o={}))},72860:function(n,e,r){r.d(e,{Z:function(){return h}});var t=r(57135),o=r(96583),i=r(91926),u=r(59091),a=r(10841),c=r(27327),l=r(49146),s=r(25528);function f(n){var e=n.container,r=n.toolchain,f=n.beforeRun,d=function(){var n=function(n){g!==n&&(g=n,h.emit(a.z.STATE_CHANGE,g))};n(p?m?a.A.STOPPING:"none"===v?a.A.IDLE:a.A.RUNNING:a.A.OFFLINE)},h=(0,c.ZP)(),p=null,g=a.A.OFFLINE,v="none",m=!1,E=Math.random();function N(){return(N=(0,t.Z)((function(n){var t,i,u,c,m,N,C;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(g!==a.A.IDLE&&g!==a.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+g);return i=Math.random(),E=i,h.emit(a.z.LOCAL_RUN),v="before-run",d(),n||(c=(0,s.Z)(r.configs.current,[],null,(null===(u=r.configs.current)||void 0===u?void 0:u.entrypoint)||null)).length>0&&(n=c[0]),m=l.kg.timeStart({runnerId:null===n||void 0===n?void 0:n.runner.id,filePath:null===n||void 0===n?void 0:n.filePath,isInterpreter:null===n||void 0===n?void 0:n.runner.interpreter,replLanguage:null===(t=e.getContext())||void 0===t?void 0:t.repl.language}),[4,f(m,{runId:i.toString(),channelId:null===p||void 0===p?void 0:p.id,type:"shellrunner",runConfig:n})];case 1:if(o.sent(),E!==i)return[2];if("none"===v)return[2];if("server"===v)return[2];if(!p)throw new Error("State is RUNNING but shellrunner is null?");return"open"!==p.status||(v="optimistic",N={},n&&(N.runnerId=n.runner.id,N.filePath=n.filePath),p.send({runMain:N}),C=p.onCommand((function(n){"state"===n.body&&(C(),m("run finished"))}))),[2]}}))}))).apply(this,arguments)}function C(){return(C=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){if(g!==a.A.IDLE&&g!==a.A.RUNNING)throw new Error("Can only send input when running or idle");if(!p)throw new Error("State is not OFFLINE but shellrunner is null?");return p.send({input:n}),[2]}))}))).apply(this,arguments)}return e.openChannel({name:"shellrunner",service:"shellrun2",skip:function(n){var e,r=n.repl;return!("nix"===(e=r.language)||!0===i.Z.usesInterpreter(e)||!1!==i.Z.usesRunProject(e))}},(function(n){var e=n.channel;return p=e,d(),e.onCommand((function(n){if(null!=n.state){var e=n.state===u.api.State.Stopped;m&&e&&(m=!1),e?"server"===v&&(v="none"):v="server",d()}else null!=n.output?h.emit(a.z.OUTPUT,n.output):n.hint&&h.emit(a.z.OUTPUT,"\r\n\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n"))})),function(){v="none",m=!1,p=null,d()}})),{mode:"shellrunner",run:function(n){return N.apply(this,arguments)},stopRun:function(){if(g!==a.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(g));if(!p)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===v)return v="none",void d();v="none",m=!0,d(),p.send({clear:{}})},sendInput:function(n){return C.apply(this,arguments)},resizeTerminal:function(n){if(!p)throw new Error("resizeTerminal must be called when online");p.send({resizeTerm:n})},onOutput:function(n){return h.on(a.z.OUTPUT,n),function(){h.removeListener(a.z.OUTPUT,n)}},onLocalRun:function(n){return h.on(a.z.LOCAL_RUN,n),function(){h.removeListener(a.z.LOCAL_RUN,n)}},onStateChanged:function(n){return h.on(a.z.STATE_CHANGE,n),function(){h.removeListener(a.z.STATE_CHANGE,n)}},getRunState:function(){return g}}}var d=r(87861);function h(n){var e=n.container,r=n.toolchain,i=n.beforeRun,u=n.mode,s=void 0===u?"shellrunner":u;if("shellrunner"===s)return f({container:e,toolchain:r,beforeRun:i});if("html"===s)return function(n){var e=n.beforeRun,r=n.container,i=function(){(function(n){s!==n&&(s=n,u.emit(a.z.STATE_CHANGE,s))})("none"===f?a.A.IDLE:a.A.RUNNING)},u=(0,c.ZP)(),s=a.A.OFFLINE,f="none",h=Math.random();function p(){return(p=(0,t.Z)((function(){var n,r;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(s!==a.A.IDLE&&s!==a.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+s);return n=Math.random(),h=n,u.emit(a.z.LOCAL_RUN),f="before-run",i(),r=l.kg.timeStart({replLanguage:"html"}),[4,e(r,{runId:n.toString(),type:"html"})];case 1:return t.sent(),h!==n||"none"===f||(f="running",i(),f="none",i()),[2]}}))}))).apply(this,arguments)}function g(){return(g=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(n){throw new Error("sendInput not implemented for htmlrunner")}))}))).apply(this,arguments)}return r.onConnectionStateChanged((function(n){n===d.em.CONNECTED&&(f="none",i())})),{mode:"html",run:function(){return p.apply(this,arguments)},stopRun:function(){if(s!==a.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(s));f="none",i()},sendInput:function(n){return g.apply(this,arguments)},resizeTerminal:function(n){throw new Error("resizeTerminal is a no-op in html mode")},onOutput:function(n){throw new Error("onOutput not implemented for htmlrunner")},onStateChanged:function(n){return u.on(a.z.STATE_CHANGE,n),function(){u.removeListener(a.z.STATE_CHANGE,n)}},onLocalRun:function(n){return u.on(a.z.LOCAL_RUN,n),function(){u.removeListener(a.z.LOCAL_RUN,n)}},getRunState:function(){return s}}}({beforeRun:i,container:e});throw new Error("mode not supported: "+s)}},10841:function(n,e,r){var t,o;r.d(e,{A:function(){return o},z:function(){return t}}),function(n){n.STATE_CHANGE="STATE_CHANGE",n.OUTPUT="OUTPUT",n.LOCAL_RUN="RUN"}(t||(t={})),function(n){n.OFFLINE="OFFLINE",n.IDLE="IDLE",n.RUNNING="RUNNING",n.STOPPING="STOPPING"}(o||(o={}))},25528:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(68525),o=r(97532);function i(n,e,r,i){if(!(null===n||void 0===n?void 0:n.runs))return[];var a=[];if(e=e.slice(),r){var c=e.indexOf(r);-1!==c&&(e.splice(c,1),e.splice(0,0,r))}if(i){var l=e.indexOf(i);-1!==l&&e.splice(l,1),e.splice(0,0,i)}var s=!0,f=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var g=h.value;if(g.match(/(\.[a-z0-9]+)$/)){var v=!0,m=!1,E=void 0;try{for(var N,C=n.runs[Symbol.iterator]();!(v=(N=C.next()).done);v=!0){var R=N.value;if(R.fileParam||R.optionalFileParam){var w=(0,t.rF)(R.fileTypeAttrs);null===w&&R.language&&(w=t.$R.from(R.language)),w&&(0,o.JW)(g,w)&&a.push({runner:R,filePath:g})}}}catch(A){m=!0,E=A}finally{try{v||null==C.return||C.return()}finally{if(m)throw E}}}}}catch(A){f=!0,d=A}finally{try{s||null==p.return||p.return()}finally{if(f)throw d}}var b=!0,y=!1,k=void 0;try{for(var Z,D=n.runs[Symbol.iterator]();!(b=(Z=D.next()).done);b=!0){var I=Z.value;I.fileParam||a.push({runner:I})}}catch(A){y=!0,k=A}finally{try{b||null==D.return||D.return()}finally{if(y)throw k}}return function(n){n.sort((function(n,e){var r=u(n),t=u(e);return r!==t?r-t:n.runner.interpreter===e.runner.interpreter?0:n.runner.interpreter?-1:1}))}(a),a}function u(n){var e,r,t;return(null===(e=n.runner.id)||void 0===e?void 0:e.startsWith(".replit/"))?0:(null===(r=n.runner.id)||void 0===r?void 0:r.startsWith("module:"))?1:(null===(t=n.runner.id)||void 0===t?void 0:t.startsWith("language:"))?2:3}},5218:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(57135),o=r(96583),i=r(35981),u=r(88688);function a(n){var e=n.container,r=n.dotReplit,a=(0,i.u)(null),c=(0,i.u)(null),l=(0,i.u)(null);return e.openChannel({service:"toolchain"},(function(n){var e=n.channel;l.set(e);var r=e.onCommand((function(n){n.toolchainChanged?a.current=n.toolchainChanged.configs:n.nixModulesChanged&&(c.current=n.nixModulesChanged.modules)}));return e.request({toolchainGetRequest:{}}).then((function(n){var e;a.current=(null===(e=n.toolchainGetResponse)||void 0===e?void 0:e.configs)||null})),e.request({nixModulesGetRequest:{}}).then((function(n){var e;c.current=(null===(e=n.nixModulesGetResponse)||void 0===e?void 0:e.modules)||null})),function(){r()}})),{configs:a,modules:c,getRegistry:function(){return(0,t.Z)((function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,l.current?Promise.resolve(l.current):new Promise((function(n){var e=l.subscribe((function(r){r&&(e(),n(r))}))}))];case 1:return[4,n.sent().request({nixModulesGetRegistryRequest:{}})];case 2:return[2,n.sent().nixModulesGetRegistryResponse||null]}}))}))()},addModule:function(n){return(0,t.Z)((function(){var e,t,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=[],[4,r.getConfig()];case 1:if((i=o.sent()).error&&i.error!==u.Yt.NotFound)throw new Error("Failed to read .replit"+i.error);return-1!==(t=(null===(e=i.config)||void 0===e?void 0:e.modules)||[]).indexOf(n)?[3,3]:(t.push(n),[4,r.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(t)}])]);case 2:o.sent(),o.label=3;case 3:return[2]}}))}))()},removeModule:function(n){return(0,t.Z)((function(){var e,t,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=[],[4,r.getConfig()];case 1:if((i=o.sent()).error&&i.error!==u.Yt.NotFound)throw new Error("Failed to read .replit"+i.error);return t=(null===(e=i.config)||void 0===e?void 0:e.modules)||[],(a=t.filter((function(e){if(n===e)return!1;var r=e.match(/^(.+)\.nix$/);return(r&&r[1])!==n}))).length===t.length?[2]:[4,r.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(a)}])];case 2:return o.sent(),[2]}}))}))()},upgradeModule:function(n,e){return(0,t.Z)((function(){var t,i,a,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,r.getConfig()];case 1:if((i=o.sent()).error&&i.error!==u.Yt.NotFound)throw new Error("Failed to read .replit"+i.error);return a=(null===(t=i.config)||void 0===t?void 0:t.modules)||[],c=a.map((function(r){return n===r?e:r})),[4,r.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(c)}])];case 2:return o.sent(),[2]}}))}))()}}}},19065:function(n,e,r){var t=r(57389),o=r(72006),i=r(4405),u=r(77637),a=r(74985),c=r(48306),l=r.n(c),s=(r(50959),r(97754)),f=r.n(s),d=r(38749);e.Z=function(n){var e,r=n.level,c=n.fontFamily,s=void 0===c?"sans-serif":c,h=n.fontWeight,p=void 0===h?"medium":h,g=n.foreground,v=void 0===g?1:g,m=n.align,E=void 0===m?"left":m,N=n.truncate,C=void 0!==N&&N,R=n.className,w=void 0===R?"":R,b=n.children,y=(0,u.Z)(n,["level","fontFamily","fontWeight","foreground","align","truncate","className","children"]),k="h".concat(r);return(0,a.BX)(k,(0,i.Z)((0,o.Z)({},y),{className:l().dynamic([["a6394f28fee3116d",[d.Z.levels[r],d.Z.fontFamily[s],d.Z.fontWeight[p],d.Z.foreground[v],E]]])+" "+(f()("heading",(e={},(0,t.Z)(e,w,Boolean(w)),(0,t.Z)(e,"truncate",C),e))||""),children:[b,(0,a.tZ)(l(),{id:"a6394f28fee3116d",dynamic:[d.Z.levels[r],d.Z.fontFamily[s],d.Z.fontWeight[p],d.Z.foreground[v],E],children:".heading.__jsx-style-dynamic-selector{font-size:".concat(d.Z.levels[r],";font-family:").concat(d.Z.fontFamily[s],";font-weight:").concat(d.Z.fontWeight[p],";color:").concat(d.Z.foreground[v],";text-align:").concat(E,"}.truncate.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;max-width:100%}")})]}))}},8885:function(n,e,r){r.d(e,{Z:function(){return T}});var t=r(57135),o=r(2272),i=r(55749),u=r(9970),a=r(96583),c=r(74985),l=r(48306),s=r.n(l),f=r(19065),d=r(24743),h=r(27522),p=r(35301),g=r(2041),v=r(39541),m=r(90349),E=r(13424),N=r(72006),C=r(43119),R=r(71440),w=r(24635);function b(){var n=(0,C.Z)(["\n  query BSODComponent {\n    currentUser {\n      id\n      username\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return b=function(){return n},n}var y={},k=(0,R.Ps)(b());var Z=r(50959),D=/at (.+) \((https:\/\/.+\.js):(\d+):(\d+)\)/,I=/at (https:\/\/.+\.js):(\d+):(\d+)/;function A(n){return _.apply(this,arguments)}function _(){return _=(0,t.Z)((function(n){var e,c,l,s,f,d,h,p,g;function v(n){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)((function(n){var r,t,o;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:if(r=e.get(n))return[2,r];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(n).then((function(n){return n.json()}))];case 2:return t=i.sent(),o=new c.SourceMapConsumer(t),e.set(n,o),[2,o];case 3:return i.sent(),[2,null];case 4:return[2]}}))}))).apply(this,arguments)}return(0,a.__generator)(this,(function(m){switch(m.label){case 0:e=new Map,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,r.e(4552).then(r.t.bind(r,94552,19))];case 2:return c=m.sent(),[3,4];case 3:throw m.sent(),new Error("source-map not available");case 4:if(!(l=n.stack))throw new Error("expected error.stack to be defined");return s=l.split("\n").map((function(n){return n.trim()})).filter((function(n){return!!n})),f=(0,i.Z)(s),d=f[0],h=f.slice(1),[4,Promise.all(h.map(function(){var n=(0,t.Z)((function(n){var e,r,t,i,u,c,l,s,f;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(D.test(n)){if(!(i=D.exec(n)))throw new Error("expected result");u=(0,o.Z)(i.slice(2),3),e=u[0],r=u[1],t=u[2]}else{if(!I.test(n))return[2,n];if(!(c=I.exec(n)))throw new Error("expected result");l=(0,o.Z)(c.slice(1),3),e=l[0],r=l[1],t=l[2]}return[4,v("".concat(e,".map"))];case 1:return(s=a.sent())?(f=s.originalPositionFor({line:Number(r),column:Number(t)}),[2,"    at ".concat(f.source,":").concat(f.line,":").concat(f.column)]):[2,"    ".concat(n)]}}))}));return function(e){return n.apply(this,arguments)}}()))];case 5:return p=m.sent(),g=new Error,Object.assign(g,{name:n.name,stack:[d].concat((0,u.Z)(p)).join("\n"),message:n.message},n),[2,g]}}))})),_.apply(this,arguments)}var O=function(n){var e=n.bsod,r=(0,o.Z)(Z.useState(null),2),i=r[0],u=r[1];Z.useEffect((function(){(0,t.Z)((function(){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A(e.error)];case 1:return n=r.sent(),u(n),[3,3];case 2:return r.sent(),[2];case 3:return[2]}}))}))()}),[e.error]);var l=Z.useMemo((function(){var n,r,t,o;return i?null!==(t=null===(r=i.stack)||void 0===r?void 0:r.split("\n"))&&void 0!==t?t:[]:null!==(o=null===(n=e.error.stack)||void 0===n?void 0:n.split("\n"))&&void 0!==o?o:[]}),[i,e.error.stack]);return(0,c.tZ)("div",{css:[v.l0.p(16),v.l0.width("100%"),v.l0.backgroundColor.backgroundHigher,v.l0.borderRadius(8),v.l0.overflowY("hidden"),{whiteSpace:"pre"}],children:(0,c.tZ)(p.gC,{spacing:1,children:(0,c.BX)("div",{css:[v.l0.font.code,v.l0.fontSize(12)],children:[(0,c.BX)("div",{children:["Origin: ",e.origin]}),null===l||void 0===l?void 0:l.map((function(n,e){var r=n.replace("webpack-internal:///./",""),t=r.includes("node_modules");return(0,c.tZ)("div",{css:t?v.l0.color.foregroundDimmest:null,children:r},e)}))]})})})},T=function(){var n,e,r=(0,o.Z)((0,E.qg)(),1)[0],t=function(n){var e=(0,N.Z)({},y,n);return w.a(k,e)}({skip:!r}),i=t.data,u=t.loading;(0,E.ic)();if(!r)return null;var a=(null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.isStaff)||(null===i||void 0===i||null===(e=i.currentUser)||void 0===e?void 0:e.isAdmin);return(0,c.BX)(g.u,{isOpen:!0,preventClose:!0,onRequestClose:function(){},maxWidth:872,children:[(0,c.BX)(p.gC,{spacing:2,align:"center",children:[(0,c.tZ)(f.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,c.tZ)("div",{className:s().dynamic([["a3ce5d5b024408a4",[v.n0]]])+" spacer"}),(0,c.tZ)(d.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),(0,c.tZ)("div",{css:[v.l0.p(16),v.l0.width("100%"),v.l0.backgroundColor.backgroundHigher,v.l0.borderRadius(8)],className:s().dynamic([["a3ce5d5b024408a4",[v.n0]]]),children:(0,c.BX)(p.gC,{spacing:1,children:[!u&&(null===i||void 0===i?void 0:i.currentUser)?(0,c.BX)(p.Ug,{spacing:2,align:"center",children:[(0,c.tZ)(m.q,{src:i.currentUser.image,username:i.currentUser.username,size:48}),(0,c.tZ)(d.Z,{size:"medium",children:i.currentUser.username})]}):null,(0,c.BX)("div",{css:[v.l0.font.code],className:s().dynamic([["a3ce5d5b024408a4",[v.n0]]]),children:["Error: ",r.eventId]})]})}),a?(0,c.tZ)(O,{bsod:r}):null,(0,c.tZ)("div",{className:s().dynamic([["a3ce5d5b024408a4",[v.n0]]])+" spacer"}),(0,c.tZ)(h.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,c.tZ)(s(),{id:"a3ce5d5b024408a4",dynamic:[v.n0],children:".sentry-error-embed-wrapper{z-index:".concat(v.n0,"!important}")})]})}},13424:function(n,e,r){r.d(e,{I7:function(){return v},Id:function(){return g},ic:function(){return N},jT:function(){return p},qg:function(){return E},uV:function(){return m}});var t=r(72006),o=r(4405),i=r(62946),u=r(92153),a=r(1468),c=r(53397),l=r(50959),s=(0,i.cn)(null),f=(0,i.cn)(null,(function(n,e,r){var i=r.error,u=r.tags,c=r.extras,l=r.origin,f=(0,o.Z)((0,t.Z)({},u),{origin:l});"statusCode"in i?f.statusCode=i.statusCode:"status"in i&&(f.statusCode=i.status);var d=(0,a.Qw)(i,{tags:f,extras:c});e(s,{eventId:d,error:i,sentry:{tags:f,extras:c},origin:l})})),d=(0,i.cn)(null,(function(n,e){e(s,null)})),h=(0,i.cn)(new Map);function p(){return(0,c.lV)((0,l.useCallback)((function(n,e,r){var t=r.filePath;return n(h).get(t)}),[]))}function g(){return(0,c.lV)((0,l.useCallback)((function(n,e,r){var t=r.filePath,o=r.version;e(h,(function(n){return(0,u.ZP)(n,(function(n){n.set(t,o)}))}))}),[]))}function v(){return(0,c.lV)((0,l.useCallback)((function(n,e,r){var t=r.filePath;e(h,(function(n){return(0,u.ZP)(n,(function(n){n.delete(t)}))}))}),[]))}function m(){return(0,i.b9)(f)}function E(){return[(0,i.Dv)(s),m()]}function N(){return(0,i.b9)(d)}},22126:function(n,e,r){function t(n,e){return{ok:!1,error:n,errorExtras:e}}function o(n){return{ok:!0,value:n}}r.d(e,{Ok:function(){return o},U:function(){return t}});var i={Ok:o,Err:t};e.Z=i},51446:function(n,e,r){r.d(e,{Y:function(){return i}});var t=r(57135),o=r(96583);function i(n){return u.apply(this,arguments)}function u(){return(u=(0,t.Z)((function(n){var e,r;return(0,o.__generator)(this,(function(t){return e=n.container,r=n.service,[2,new Promise((function(n){var t=e.openChannel({service:r},(function(e){var r=e.channel;return n([r,t]),t}))}))]}))}))).apply(this,arguments)}},22946:function(n,e,r){r.d(e,{Z:function(){return p}});var t,o=r(57135),i=r(2272),u=r(96583),a=r(27327),c=r(88254),l=r(59091),s=r(45005),f=r.n(s);!function(n){n.OUTPUT="OUTPUT",n.ERROR="ERROR",n.STATE_CHANGED="STATE_CHANGED",n.CHANNEL_OPENED="CHANNEL_OPENED"}(t||(t={}));var d=r(51446),h=r(22126);function p(n){var e=n.container,r=n.dotReplit,s=function(n){var e=v.get(n);return e||(e={packagerChannel:null,didCallOpenChannel:!1,closeChannel:null},v.set(n,e),e)},p=function(n){var r=s(n);if(r.didCallOpenChannel)throw new Error("Already called open channel");r.didCallOpenChannel=!0,r.closeChannel=e.openChannel({service:"packager3",name:n||"packager"},(function(e){var o=e.channel;return o.onCommand((function(e){if(null!=e.state){var r=e.state===l.api.State.Running;g.emit(t.STATE_CHANGED,r,n)}else null!=e.output?g.emit(t.OUTPUT,e.output,n):null!=e.error&&g.emit(t.ERROR,e.error,n)})),n?o.request({packageSetPackagerRequest:{packagerId:n}}).then((function(){r.packagerChannel=o,g.emit(t.CHANNEL_OPENED,o,n)})):(r.packagerChannel=o,g.emit(t.CHANNEL_OPENED,o,n)),function(){r.packagerChannel=null}}))},g=(0,a.ZP)(),v=new Map;function m(n){return E.apply(this,arguments)}function E(){return E=(0,o.Z)((function(n){var r,t,o,a,c=arguments;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:0,[4,(0,d.Y)({container:e,service:"packager3"})];case 1:return t=i.Z.apply(void 0,[u.sent(),2]),o=t[0],a=t[1],n?[4,o.request({packageSetPackagerRequest:{packagerId:n}})]:[3,3];case 2:u.sent(),u.label=3;case 3:if("open"!==o.status){if(r>5)throw new Error("Failed to getAnonymousPackagerChannel");return[2,m(n,r+1)]}return[2,[o,a]]}}))})),E.apply(this,arguments)}function N(n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)((function(n){var e;return(0,u.__generator)(this,(function(r){return(e=s(n)).didCallOpenChannel||p(n),e.packagerChannel&&"open"===e.packagerChannel.status?[2,e.packagerChannel]:[2,new Promise((function(e){g.once(t.CHANNEL_OPENED,(function(r,t){t===n&&e(r)}))}))]}))}))).apply(this,arguments)}return{addPackages:function(n,e){return(0,o.Z)((function(){var r,t,o;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,N(e)];case 1:return r=i.sent(),t=n.map((function(n){return{name:n.name,spec:n.version}})),[4,r.request({packageAdd:{pkgs:t}})];case 2:return(o=i.sent()).channelClosed?[2,!1]:[2,Boolean(o.ok)]}}))}))()},removePackages:function(n,e){return(0,o.Z)((function(){var r,t,o;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,N(e)];case 1:return r=i.sent(),t=n.map((function(n){return{name:n}})),[4,r.request({packageRemove:{pkgs:t}})];case 2:return(o=i.sent()).channelClosed?[2,!1]:[2,Boolean(o.ok)]}}))}))()},searchPackages:function(n,t){return(0,o.Z)((function(){var o,a,l,s,d,h,p,g,v,E;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,r.getConfig()];case 1:if((null===(h=null!==(d=null===(o=u.sent())||void 0===o||null===(a=o.config)||void 0===a||null===(l=a.packager)||void 0===l?void 0:l.language)&&void 0!==d?d:null===(s=e.getContext())||void 0===s?void 0:s.repl.language)||void 0===h?void 0:h.includes("python"))||"pygame"===h)try{return[2,f()("https://pipsearch.util.repl.co/search?name="+encodeURIComponent(n),{mode:"cors"}).then((function(n){return n.json()}))]}catch(N){return c.Tb(N),[2,[]]}return[4,m(t)];case 2:return p=i.Z.apply(void 0,[u.sent(),2]),g=p[0],v=p[1],[4,g.request({packageSearch:{query:n}})];case 3:return(E=u.sent()).channelClosed?[2,[]]:(v(),"packageSearchResp"===E.body&&E.packageSearchResp?[2,E.packageSearchResp.results||[]]:(c.Tb(new Error("Unknown packager3 command ".concat(E.body,". ")+"Expected packageSearchResp. Received error: ".concat(E.error))),[2,[]]))}}))}))()},fetchPackageInfo:function(n,e){return(0,o.Z)((function(){var r,t,o,a;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,m(e)];case 1:return r=i.Z.apply(void 0,[u.sent(),2]),t=r[0],o=r[1],[4,t.request({packageInfo:{pkg:{name:n}}})];case 2:return(a=u.sent()).channelClosed?[2,void 0]:(o(),"packageInfoResp"===a.body&&a.packageInfoResp?[2,a.packageInfoResp.pkg||void 0]:(c.Tb(new Error("Unknown packager3 command ".concat(a.body,". ")+"Expected packageInfoResp. Received error: ".concat(a.error))),[2,void 0]))}}))}))()},installPackages:function(n){return(0,o.Z)((function(){var e,r,t;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return[4,N(n)];case 1:return[4,o.sent().request({packageInstall:{useNewResponse:!0}})];case 2:return(r=o.sent()).error?[2,(0,h.U)(r.error)]:r.channelClosed?[2,(0,h.U)("ChannelClosed")]:[2,(0,h.Ok)(null!==(t=null===(e=r.packageInstallResponse)||void 0===e?void 0:e.guessedPkgs)&&void 0!==t?t:[])]}}))}))()},listSpecfile:function(n){return(0,o.Z)((function(){var e,r,t,o,a,l,s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,m(n)];case 1:return e=i.Z.apply(void 0,[u.sent(),2]),r=e[0],t=e[1],[4,r.request({packageListSpecfile:{}})];case 2:if((o=u.sent()).channelClosed)return[2,{packages:null,error:"channel closed"}];switch(t(),o.body){case"error":return[2,{packages:null,error:"list specfile failed: ".concat(o.error)}];case"packageListSpecfileResp":return(l=null===(a=o.packageListSpecfileResp)||void 0===a?void 0:a.pkgs)?[2,{packages:l,error:null}]:[2,{packages:null,error:"list specfile returned an empty response"}];default:return s="Unknown packager3 listSpecFile command ".concat(o.body,". ")+"Expected error or packageListSpecfileResp",c.Tb(new Error(s)),[2,{packages:null,error:s}]}return[2]}}))}))()},getPackagerIds:function(){return Array.from(v.keys())},clearPackager:function(n){var e=v.get(n);(null===e||void 0===e?void 0:e.closeChannel)&&e.closeChannel(),v.delete(n)},onOutput:function(n){return g.on(t.OUTPUT,n),function(){g.removeListener(t.OUTPUT,n)}},onError:function(n){return g.on(t.ERROR,n),function(){g.removeListener(t.ERROR,n)}},onStateChanged:function(n){return g.on(t.STATE_CHANGED,n),function(){g.removeListener(t.STATE_CHANGED,n)}}}}}}]);
//# sourceMappingURL=6123-d18c7c5db4367a4e.js.map